window.loadLeverJobs=function(e){var t,n,r=window.location.href,a="",o="?lever-";e.accountName=e.accountName.toLowerCase();var s=document.getElementById("lever-jobs-container")||document.body;r.indexOf(o)>=0&&(a="?lever-"+r.split(o)[1]);var i={"&":"&amp;","<":"&lt;",">":"&gt;"};function l(e){return i[e]||e}function c(e){return void 0===e?"":e.replace(/[&<>]/g,l)}function p(e){return""==e||void 0===e?"uncategorized":(e=c(e)).replace(/\s+/gi,"")}var d="https://api.eu.lever.co/v0/postings/"+e.accountName+"?group=team&mode=json";if(e.includeCss){t=document.head,(n=document.createElement("link")).type="text/css",n.rel="stylesheet",n.href="https://andreasmb.github.io/lever-jobs-embed/embed-css/style.css",t.appendChild(n)}var m=new XMLHttpRequest;m.open("GET",d,!0),m.responseType="json",m.onload=function(){200==m.status?function e(t){if(t){"string"==typeof t&&(t=JSON.parse(t));for(var n="",r=[],a=0;a<t.length;a++)if(t[a]&&t[a].postings&&t[a].postings.length>0){var o=c(t[a].title||"Uncategorized");for(p(o),j=0;j<t[a].postings.length;j++){var i=t[a].postings[j],l=i.categories.team||"Uncategorized",d=p(l),m=i.categories.department||"Uncategorized",u=p(m);function f(e){return e.department==u}function g(e){return e.team==d}i.hostedUrl,-1===r.findIndex(f)?(newDepartmentToAdd={department:u,departmentTitle:m,teams:[{team:d,teamTitle:l,postings:[]},]},r.push(newDepartmentToAdd)):(departmentIndex=r.findIndex(f),newTeamToAdd={team:d,teamTitle:l,postings:[]},-1===r[departmentIndex].teams.map(function(e){return e.team}).indexOf(d)&&r[departmentIndex].teams.push(newTeamToAdd)),teamIndex=r[departmentIndex=r.findIndex(f)].teams.findIndex(g),r[departmentIndex].teams[teamIndex].postings.push(i)}}r.sort(function(e,t){var n=e.department.toLowerCase(),r=t.department.toLowerCase();return n<r?-1:n>r?1:0});for(var a=0;a<r.length;a++){if(r.length>=2)var v=!0;for(v&&(n+='<section class="lever-department" data-department="'+r[a].departmentTitle+'"><h3 class="lever-department-title">'+c(r[a].departmentTitle)+"</h3>"),j=0;j<r[a].teams.length;j++){n+='<ul class="lever-team" data-team="'+r[a].teams[j].teamTitle+'"><li><h4 class="lever-team-title">'+c(r[a].teams[j].teamTitle)+"</h4><ul>";for(var h=0;h<r[a].teams[j].postings.length;h++)n+='<li class="lever-job" data-department="'+r[a].departmentTitle+'" data-team="'+r[a].teams[j].postings[h].categories.team+'" data-location="'+r[a].teams[j].postings[h].categories.location+'"data-work-type="'+r[a].teams[j].postings[h].categories.commitment+'"><a class="lever-job-title" href="'+r[a].teams[j].postings[h].hostedUrl+'">'+c(r[a].teams[j].postings[h].text)+'</a><span class="lever-job-tag">'+(c(r[a].teams[j].postings[h].categories.location)||"")+"</span></li>";n+="</ul></li></ul>"}v&&(n+="</section>")}n+="</ul>",s.innerHTML=n,window.dispatchEvent(new Event("leverJobsRendered"))}}(m.response):(console.log("Error fetching jobs."),s.innerHTML="<p class='lever-error'>Error fetching jobs.</p>")},m.onerror=function(){console.log("Error fetching jobs."),s.innerHTML="<p class='lever-error'>Error fetching jobs.</p>"},m.send()},window.loadLeverJobs(window.leverJobsOptions),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(this==null)throw TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var r=arguments[1],a=0;a<n;){var o=t[a];if(e.call(r,o,a,t))return a;a++}return -1},configurable:!0,writable:!0}),function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();
